<!DOCTYPE html>
<html>
<head>
	<title>Marauder's Map</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<meta charset="utf-8">
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<link rel="stylesheet" href="stylesheet.css" />
	<script>
		var myLat = 0;
		var myLng = 0;
		var request = new XMLHttpRequest();
		var me = new google.maps.LatLng(myLat, myLng);
		var map;
		var marker;
		var infowindow = new google.maps.InfoWindow();
		var markerimage = {
			url: 'roncampbell.png'
		//	size: new google.maps.Size(40, 40)
		//	origin: new google.maps.Point(0,0),
		//	anchor: new google.maps.Point(0, 10)
		};
		markerimage.style.height = '10px';
		markerimage.style.width = '10px';
		var markershape = {
			coords: [1, 1, 20, 1, 20, 20, 20, 1],
			type: 'poly'
		};

		var mapOptions = {
			center: me,
			zoom: 16,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		};

		function initialize() {
			map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
			getMyLocation();
		}

		function getMyLocation() {
			if (navigator.geolocation) { // the navigator.geolocation object is supported on your browser
				navigator.geolocation.getCurrentPosition(function(position) {
					myLat = position.coords.latitude;
					myLng = position.coords.longitude;
					me = new google.maps.LatLng(myLat, myLng);
					createMap();
				});
			}
			else {
				alert("Geolocation is not supported by your web browser.");
			}
		}

		function createMap() {
				map.panTo(me);
				marker = new google.maps.Marker({
					position: me,
					title: "RonCampbell",
					icon: markerimage,
					//shape: markershape
				});
				marker.setMap(map);

				google.maps.event.addListener(marker, 'click', function() {
					infowindow.setContent(marker.title);
					infowindow.open(map, marker);
				});
		}

	google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body onload="initialize()">
	<div id="map_canvas"></div>
</body>

</html>